/* ==========================================
   COMMAND PALETTE (Cmd+K)
   ========================================== */

.command-palette-backdrop {
  position: fixed;
  inset: 0;
  background-color: hsl(var(--backdrop) / 0.5);
  z-index: var(--z-modal-backdrop);
  animation: fade-in var(--duration-fast) var(--ease-out);
}

.command-palette-dialog {
  position: fixed;
  top: 20%;
  left: 50%;
  transform: translateX(-50%);
  z-index: var(--z-modal);
  width: min(90vw, 36rem);
  max-height: 60vh;
  background-color: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-xl);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  animation: command-palette-scale-in var(--duration-normal) var(--ease-out);
}

.command-palette-backdrop.hidden,
.command-palette-dialog.hidden {
  display: none;
}

@keyframes command-palette-scale-in {
  from { opacity: 0; transform: translateX(-50%) scale(0.96); }
  to { opacity: 1; transform: translateX(-50%) scale(1); }
}

.command-palette-input-wrapper {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1rem;
  border-bottom: 1px solid hsl(var(--border));
}

.command-palette-input-wrapper svg {
  color: hsl(var(--muted-foreground));
  flex-shrink: 0;
}

.command-palette-input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  font-size: var(--text-base);
  color: hsl(var(--foreground));
}

.command-palette-input::placeholder {
  color: hsl(var(--muted-foreground));
}

.command-palette-list {
  flex: 1;
  overflow-y: auto;
  padding: 0.5rem;
}

.command-palette-group-label {
  padding: 0.375rem 0.5rem;
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: hsl(var(--muted-foreground));
}

.command-palette-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.5rem 0.5rem;
  border-radius: var(--radius);
  cursor: pointer;
  transition: background-color var(--duration-instant) var(--ease-default);
}

.command-palette-item:hover,
.command-palette-item[aria-selected="true"] {
  background-color: hsl(var(--muted));
}

.command-palette-item[aria-selected="true"] {
  outline: 2px solid hsl(var(--ring) / 0.5);
  outline-offset: -2px;
}

.command-palette-item-icon {
  width: 2rem;
  height: 2rem;
  border-radius: var(--radius);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  background-color: hsl(var(--muted));
  color: hsl(var(--muted-foreground));
}

.command-palette-item-content {
  flex: 1;
  min-width: 0;
}

.command-palette-item-title {
  font-size: var(--text-sm);
  font-weight: 500;
  color: hsl(var(--foreground));
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.command-palette-item-title mark {
  background-color: hsl(var(--accent) / 0.4);
  color: inherit;
  border-radius: 2px;
  padding: 0 1px;
}

.command-palette-item-meta {
  font-size: var(--text-xs);
  color: hsl(var(--muted-foreground));
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.command-palette-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.5rem 1rem;
  border-top: 1px solid hsl(var(--border));
  font-size: var(--text-xs);
  color: hsl(var(--muted-foreground));
}

.command-palette-footer kbd {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 1.25rem;
  height: 1.25rem;
  padding: 0 0.25rem;
  background-color: hsl(var(--muted));
  border: 1px solid hsl(var(--border));
  border-radius: var(--radius-sm);
  font-family: var(--font-sans);
  font-size: 0.625rem;
  font-weight: 500;
}

.command-palette-empty {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  color: hsl(var(--muted-foreground));
  font-size: var(--text-sm);
}

